@model WellaMates.ViewModel.AdministratorRefundsVM
@using PagedList.Mvc; 

@{
    ViewBag.Title = "Aprovações";
    Layout = "~/Views/Shared/_LayoutMember.cshtml";
    ViewBag.DisableBackBt = true;
}

<div class="content-title clearfix">
    <div class="fade-line-left"></div><h1><i>Aprovações</i></h1><div class="fade-line-right"></div><br/>
</div>

<div class="container clearfix" style="margin-top: 20px;">
    <div class="col-lg-4 col-lg-push-4 col-md-5 col-md-push-2 col-sm-7 col-xs-12">
            @using (var f = Html.Bootstrap().Begin(new Form().Type(FormType.Horizontal).FormMethod(FormMethod.Get).Class("search-form")))
            {
                <div class="col-sm-9 col-sm-push-3">
                    @f.FormGroup().Class("input-style").TextBox("searchString").Placeholder("Busca").Value(ViewBag.CurrentFilter as string).WidthXs(12).Label().WidthXs(0).LabelText("")
                </div>
                <div class="col-sm-3 col-sm-pull-9">
                    <input type="submit" value="" class="search-bt" />
                </div>
            }
    </div>
</div>
@using (Html.Bootstrap().Begin(new Table().Striped().Hover()))
{
    <tr>
        <th class="hidden-xs hidden-sm">
            @Html.TableHeaderFor(m => m.Refunds.First().RefundID)
        </th>
        <th>
            @Html.TableHeaderFor(m => m.Refunds.First().Name)
        </th>
        <th>
            @Html.TableHeaderFor(m => m.Refunds.First().Date)
        </th>
        <th>
            @Html.TableHeaderFor(m => m.Refunds.First().Value)
        </th>
        <th>
            @Html.TableHeaderFor(m => m.Refunds.First().Status)
        </th>
        <th>
        </th>
    </tr>
    
    foreach (var item in Model.Refunds)
    {
        <tr>
            <td class="hidden-xs hidden-sm">
                @Html.DisplayFor(modelItem => item.RefundID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @item.Date.ToString("dd/MM/yy")
            </td>
            <td>
                <b>R$</b>@Html.DisplayFor(modelItem => item.Value)
            </td>
            <td>
                @{ Html.RenderPartial("_RefundStatusPartial", item.Status); }
            </td>
            <td>
                <a class="" href="@Url.Action("RefundDetail", "Freelancer")/@item.RefundID">Detalhes</a>
            </td>
        </tr>
    }
}
<br />
<div class="pagination-right">
    <div style="float: right">
        @Html.PagedListPager(Model.Refunds, page => Url.Action("Refunds", new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }))
    </div>
    <div style="float: right; height: 100px;margin-top: 7px;">
        <b>Página @(Model.Refunds.PageCount < Model.Refunds.PageNumber ? 0 : Model.Refunds.PageNumber) de @Model.Refunds.PageCount</b>
    </div>
</div>