@using WellaMates.Models
@model WellaMates.ViewModel.ManagerRefundDetailVM

@{
    ViewBag.Title = "Detalhes do Reembolso (#" + Model.Refund.RefundID + ")";
    ViewBag.ItemDetailUrl = @Url.Action("RefundItemDetail");
    ViewBag.InvertStatusIcons = true;
    Layout = "~/Views/Shared/_LayoutMember.cshtml";
    ViewBag.BackController = "Manager";
}

<div class="content-title clearfix">
    <div class="fade-line-left"></div><h1><i>Detalhes <span class="hidden-xs">do Reembolso</span></i></h1><div class="fade-line-right"></div><br/>
</div>
<br/>
<div class="col-xs-10 col-xs-push-1" style="margin-bottom: 20px;">
    @{ Html.RenderPartial("_RefundDetailsPartial", Model.Refund); }
</div>
<div >
    <h3 style="display: inline-block">Itens de Reembolso</h3>
    @{ Html.RenderPartial("_RefundItemsPartial", Model.Refund.RefundItems); }
    <br/>

    @if (Model.Refund.Status == RefundStatus.WAITING_FOR_MANAGER)
    {
        <h3 style="display: inline-block">Resposta do Reembolso</h3>
        { Html.RenderPartial("_RefundResponsePartial", Model.Refund.RefundItems); }
    }
    else if (Model.Refund.Status == RefundStatus.WAITING_FOR_FREELANCER)
    {
        <p>Esperando pela resposta do Freelancer.</p>
    }
    else if (Model.Refund.Status == RefundStatus.ACCEPTED)
    {
        <p>Esta proposta de reembolso foi aprovada de acordo com as condições especificadas.</p>
    }
    else if (Model.Refund.Status == RefundStatus.REJECTED)
    {
        <p>Esta proposta de reembolso foi reprovada por completo.</p>
    }
    else if (Model.Refund.Status == RefundStatus.PAID)
    {
        <p>Esta proposta foi paga com sucesso.</p>
    }
</div>

@section scripts
{
    @if (Model.Refund.Status == RefundStatus.WAITING_FOR_MANAGER)
    {
        { Html.RenderPartial("_RefundResponseScriptsPartial", Model.EditRefund); }
    }
}
